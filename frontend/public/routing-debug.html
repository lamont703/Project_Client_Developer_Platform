<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Routing Debug Test</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f5f5f5;
        }

        .container {
            background: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }

        .info {
            background: #e3f2fd;
            padding: 15px;
            border-radius: 4px;
            margin: 10px 0;
        }

        .error {
            background: #ffebee;
            padding: 15px;
            border-radius: 4px;
            margin: 10px 0;
        }

        pre {
            background: #f5f5f5;
            padding: 10px;
            border-radius: 4px;
            overflow-x: auto;
        }
    </style>
</head>

<body>
    <div class="container">
        <h1>üîç Routing Debug Test</h1>
        <p>This page helps debug the routing issue with /prototype_pipeline/chat</p>

        <div class="info">
            <h3>üìã Current URL Information</h3>
            <div id="url-info">
                <p><strong>Current URL:</strong> <span id="current-url"></span></p>
                <p><strong>Pathname:</strong> <span id="pathname"></span></p>
                <p><strong>Search:</strong> <span id="search"></span></p>
                <p><strong>Hash:</strong> <span id="hash"></span></p>
                <p><strong>Referrer:</strong> <span id="referrer"></span></p>
            </div>
        </div>

        <div class="info">
            <h3>üß™ Test Links</h3>
            <p>Click these links to test routing:</p>
            <ul>
                <li><a href="/prototype_pipeline/chat?ref=lamont_evans&source=email" target="_blank">Test Chat Page</a>
                </li>
                <li><a href="/prototype_pipeline/jobs" target="_blank">Test Jobs Page</a></li>
                <li><a href="/prototype_pipeline/post-job" target="_blank">Test Post Job Page</a></li>
            </ul>
        </div>

        <div class="info">
            <h3>üîß Manual Test</h3>
            <p>Try manually navigating to:</p>
            <code>/prototype_pipeline/chat?ref=lamont_evans&source=email</code>
        </div>

        <div id="redirect-info" class="error" style="display: none;">
            <h3>‚ö†Ô∏è Redirect Detected</h3>
            <p>This page was redirected from another URL.</p>
            <p><strong>Original URL:</strong> <span id="original-url"></span></p>
        </div>
    </div>

    <script>
        // Display current URL information
        document.getElementById('current-url').textContent = window.location.href;
        document.getElementById('pathname').textContent = window.location.pathname;
        document.getElementById('search').textContent = window.location.search;
        document.getElementById('hash').textContent = window.location.hash;
        document.getElementById('referrer').textContent = document.referrer || 'None';

        // Check if this page was redirected
        if (document.referrer && document.referrer !== window.location.href) {
            document.getElementById('redirect-info').style.display = 'block';
            document.getElementById('original-url').textContent = document.referrer;
        }

        // Log routing information
        console.log('üîç Routing Debug Info:');
        console.log('Current URL:', window.location.href);
        console.log('Pathname:', window.location.pathname);
        console.log('Search:', window.location.search);
        console.log('Referrer:', document.referrer);
        console.log('User Agent:', navigator.userAgent);

        // Test if we can access the chat route
        if (window.location.pathname === '/prototype_pipeline/chat') {
            console.log('‚úÖ Successfully on chat page');
        } else if (window.location.pathname === '/prototype_pipeline') {
            console.log('‚ö†Ô∏è On home page - chat route may have redirected');
        } else {
            console.log('‚ùì On unexpected page:', window.location.pathname);
        }
    </script>
</body>

</html>